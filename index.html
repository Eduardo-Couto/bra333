<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="sb-url" content="https://jujedennranzaglnpxzl.supabase.co" />
    <meta
      name="sb-anon"
      content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp1amVkZW5ucmFuemFnbG5weHpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA5ODA0MDYsImV4cCI6MjA3NjU1NjQwNn0.H5EY4KTLZNtk8xnNi-tsJPFrkwD8cpoBTCKy4H_UfbE"
    />
    <title>Flotilha Wingfoil - Hub Premium</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <aside class="sidebar">
        <div class="brand">
          <div class="brand__icon">
            <img
              src="assets/oficial.png"
              alt="Logotipo da Flotilha BRA 333"
              class="brand__logo"
            />
          </div>
          <div>
            <p class="brand__title">Flotilha BRA 333 - Wingfoil</p>
            <p class="brand__subtitle">Painel do Membro</p>
          </div>
        </div>
        <nav class="sidebar__nav">
          <a href="#dashboard" class="sidebar__link active">Vis√£o geral</a>
          <a href="#previsao" class="sidebar__link">Previs√£o</a>
          <a href="#calendario" class="sidebar__link">Agenda</a>
          <a href="#galeria" class="sidebar__link">Galeria</a>
          <a href="#classificados" class="sidebar__link">Classificados</a>
        </nav>
        <div class="sidebar__footer">
          <button class="btn btn--outline" id="toggleAdminBtn">
            √Årea do administrador
          </button>
        </div>
      </aside>

      <main class="content" id="dashboard">
        <header class="content__header">
          <div>
            <h1>Bem-vindo √† Flotilha BRA 333</h1>
            <p class="text--muted">
              Acompanhe previs√µes, condi√ß√µes do mar, calend√°rio e
              materiais exclusivos dos membros.
            </p>
          </div>
          <div class="profile-card">
            <div>
              <p class="profile-card__name">Marina Costa</p>
              <p class="profile-card__role">Rider Avan√ßada</p>
            </div>
            <img
              class="profile-card__avatar"
              src="https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=facearea&w=80&h=80&q=80"
              alt="Avatar da atleta"
            />
          </div>
        </header>

        <section class="panel" id="previsao">
          <div class="panel__header">
            <h2>Previs√£o do vento</h2>
            <p class="text--muted">
              Dados ao vivo de Windguru e Muito Bons Ventos para tomar a decis√£o
              certa.
            </p>
          </div>
          <div class="widget-grid">
            <article
              class="card forecast forecast--widget"
              aria-label="Windguru Ba√≠a de Guanabara"
            >
              <div class="card__header">
                <div class="card__icon">üåÄ</div>
                <div>
                  <h3>Windguru</h3>
                  <p class="text--muted">Ba√≠a de Guanabara, RJ</p>
                </div>
              </div>
              <p class="text--muted">
                Dados oficiais do Windguru incorporados para acompanhar as
                pr√≥ximas horas de vento com atualiza√ß√£o autom√°tica.
              </p>
              <div class="forecast__widget" aria-live="polite">
                <div
                  class="windguru-widget"
                  id="wg_fwdg_263_68_1760718590738"
                  role="group"
                  aria-label="Tabela de previs√£o Windguru"
                >
                  <div class="windguru-widget__placeholder">
                    Carregando previs√£o do Windguru‚Ä¶
                  </div>
                </div>
                <noscript>
                  Ative o JavaScript para visualizar o widget de previs√£o do
                  Windguru.
                </noscript>
              </div>
              <div class="forecast__cta">
                <p class="text--muted">
                  Precisa de detalhes avan√ßados? Abra o painel completo no
                  Windguru.
                </p>
                <a
                  class="btn btn--primary"
                  href="https://www.windguru.cz/263"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  Abrir painel completo
                </a>
              </div>
            </article>

            <article
              class="card forecast"
              aria-label="Muito Bons Ventos Ba√≠a de Guanabara"
            >
              <div class="card__header">
                <div class="card__icon">üå¨Ô∏è</div>
                <div>
                  <h3>Muito Bons Ventos</h3>
                  <p class="text--muted">Ba√≠a de Guanabara, RJ</p>
                </div>
              </div>
              <p class="text--muted">
                Consulte a previs√£o detalhada, estat√≠sticas hist√≥ricas e
                relat√≥rios do portal Muito Bons Ventos no spot da Ba√≠a de
                Guanabara.
              </p>
              <a
                class="btn btn--primary"
                href="https://muitobonsventos.com.br/local/baia-de-guanabara-rj"
                target="_blank"
                rel="noopener noreferrer"
              >
                Abrir Muito Bons Ventos
              </a>
            </article>

            <article class="card forecast" aria-label="Surfconnect Ba√≠a de Guanabara">
              <div class="card__header">
                <div class="card__icon">üåä</div>
                <div>
                  <h3>Surfconnect</h3>
                  <p class="text--muted">C√¢meras e dados da Ba√≠a</p>
                </div>
              </div>
              <p class="text--muted">
                Acesse as c√¢meras, relat√≥rios de mar√© e condi√ß√µes ao vivo pelo
                Surfconnect para confirmar o cen√°rio antes de sair.
              </p>
              <a
                class="btn btn--primary"
                href="http://surfconnect.com.br/"
                target="_blank"
                rel="noopener noreferrer"
              >
                Abrir Surfconnect
              </a>
            </article>
          </div>
        </section>

        <section class="panel" id="calendario">
          <div class="panel__header">
            <h2>Agenda de regatas e treinos</h2>
            <p class="text--muted">
              Controle colaborativo atualizado pelo administrador da flotilha.
            </p>
          </div>

          <div class="calendar">
            <div class="calendar__filters">
              <label class="input">
                <span class="input__label">Filtrar por tipo</span>
                <select id="filterType">
                  <option value="all">Todos</option>
                  <option value="regata">Regatas</option>
                  <option value="treino">Treinos</option>
                  <option value="clinica">Cl√≠nicas</option>
                </select>
              </label>
              <label class="input">
                <span class="input__label">Filtrar por n√≠vel</span>
                <select id="filterLevel">
                  <option value="all">Todos</option>
                  <option value="iniciante">Iniciante</option>
                  <option value="intermediario">Intermedi√°rio</option>
                  <option value="avancado">Avan√ßado</option>
                </select>
              </label>
            </div>

            <ul class="calendar__list" id="eventList" aria-live="polite"></ul>

            <form class="admin-form hidden" id="eventForm" novalidate>
              <h3>Gerenciar eventos</h3>
              <div class="form-grid">
                <label class="input">
                  <span class="input__label">T√≠tulo</span>
                  <input type="text" id="eventTitle" required />
                </label>
                <label class="input">
                  <span class="input__label">Data</span>
                  <input type="date" id="eventDate" required />
                </label>
                <label class="input">
                  <span class="input__label">Tipo</span>
                  <select id="eventType" required>
                    <option value="regata">Regata</option>
                    <option value="treino">Treino</option>
                    <option value="clinica">Cl√≠nica</option>
                  </select>
                </label>
                <label class="input">
                  <span class="input__label">N√≠vel</span>
                  <select id="eventLevel" required>
                    <option value="iniciante">Iniciante</option>
                    <option value="intermediario">Intermedi√°rio</option>
                    <option value="avancado">Avan√ßado</option>
                  </select>
                </label>
              </div>
              <label class="input">
                <span class="input__label">Descri√ß√£o</span>
                <textarea id="eventDescription" rows="3" required></textarea>
              </label>
              <div class="form-actions">
                <button type="submit" class="btn btn--primary" id="eventSubmitBtn">
                  Salvar evento
                </button>
                <button type="button" class="btn btn--ghost hidden" id="eventCancelBtn">
                  Cancelar edi√ß√£o
                </button>
              </div>
            </form>
          </div>
        </section>

        <section class="panel" id="galeria">
          <div class="panel__header">
            <h2>Mem√≥rias dos treinos</h2>
            <p class="text--muted">
              Registre seus highlights e inspire os pr√≥ximos desafios.
            </p>
          </div>
          <div
            class="gallery"
            id="galleryHighlightList"
            aria-live="polite"
            aria-label="Destaques recentes do acervo"
          ></div>

          <div class="media-board">
            <div>
              <h3>Eventos &amp; Regatas</h3>
              <p class="text--muted">
                Acesse √°lbuns completos em um popup dedicado sem poluir a p√°gina.
              </p>
            </div>
            <button class="btn btn--primary" type="button" id="openAlbumModal">
              Ver acervo completo
            </button>
          </div>

          <form class="admin-form hidden" id="albumForm" novalidate>
            <h3>Publicar √°lbum de evento</h3>
            <div class="form-grid">
              <label class="input">
                <span class="input__label">T√≠tulo</span>
                <input type="text" id="albumTitle" required />
              </label>
              <label class="input">
                <span class="input__label">Data</span>
                <input type="date" id="albumDate" required />
              </label>
            </div>
            <label class="input">
              <span class="input__label">Descri√ß√£o do evento</span>
              <textarea id="albumDescription" rows="3" required></textarea>
            </label>
            <label class="input">
              <span class="input__label">√çcone do destaque</span>
              <select id="albumIcon">
                <option value="üì∏">üì∏ Registro fotogr√°fico</option>
                <option value="üèÅ">üèÅ Regatas oficiais</option>
                <option value="üåÖ">üåÖ Expedi√ß√µes &amp; downwinds</option>
                <option value="ü§ù">ü§ù Treinos colaborativos</option>
                <option value="üéØ">üéØ Cl√≠nicas t√©cnicas</option>
              </select>
              <span class="input__hint"
                >Selecione o emoji que melhor representa o √°lbum exibido na
                vitrine.</span
              >
            </label>
            <div class="form-grid form-grid--full">
              <label class="input">
                <span class="input__label">Fotos (m√°x. 12)</span>
                <input
                  type="file"
                  id="albumPhotos"
                  accept="image/*"
                  multiple
                  aria-describedby="albumPhotosHint"
                />
                <span class="input__hint" id="albumPhotosHint"
                  >Arraste os melhores registros. O primeiro ser√° a capa.</span
                >
              </label>
              <div class="photo-preview" id="albumPhotoPreview" aria-live="polite"></div>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn--primary" id="albumSubmitBtn">
                Publicar √°lbum
              </button>
              <button type="button" class="btn btn--ghost hidden" id="albumCancelBtn">
                Cancelar edi√ß√£o
              </button>
            </div>
          </form>

          <div class="album-admin hidden" id="albumAdminPanel">
            <h3>Organizar acervo</h3>
            <p class="text--muted">
              Reordene a vitrine principal e edite detalhes sempre que precisar.
            </p>
            <ul class="album-admin__list" id="albumAdminList"></ul>
          </div>
        </section>

        <section class="panel" id="classificados">
          <div class="panel__header">
            <h2>Classificados dos membros</h2>
            <p class="text--muted">
              Garanta upgrades e negocie equipamentos direto com a flotilha.
            </p>
          </div>

          <div class="classifieds__header">
            <label class="input">
              <span class="input__label">Pesquisar material</span>
              <input type="search" id="classifiedSearch" placeholder="Ex: wing 5m" />
            </label>
            <div class="pill-toggle" role="group" aria-label="Filtro por condi√ß√£o">
              <button class="pill-toggle__btn active" data-condition="all">
                Todos
              </button>
              <button class="pill-toggle__btn" data-condition="novo">
                Novo
              </button>
              <button class="pill-toggle__btn" data-condition="seminovo">
                Seminovo
              </button>
              <button class="pill-toggle__btn" data-condition="usado">
                Usado
              </button>
            </div>
          </div>

          <form class="admin-form hidden" id="classifiedForm" novalidate>
            <h3>Gerenciar an√∫ncios</h3>
            <div class="form-grid">
              <label class="input">
                <span class="input__label">T√≠tulo</span>
                <input type="text" id="classifiedTitle" required />
              </label>
              <label class="input">
                <span class="input__label">Anunciante</span>
                <input type="text" id="classifiedSeller" required />
              </label>
              <label class="input">
                <span class="input__label">Pre√ßo</span>
                <input
                  id="classifiedPrice"
                  required
                  inputmode="decimal"
                  placeholder="Ex.: 11200,00"
                />
              </label>
              <label class="input">
                <span class="input__label">Condi√ß√£o</span>
                <select id="classifiedCondition" required>
                  <option value="novo">Novo</option>
                  <option value="seminovo">Seminovo</option>
                  <option value="usado">Usado</option>
                </select>
              </label>
            </div>
            <label class="input">
              <span class="input__label">Descri√ß√£o</span>
              <textarea id="classifiedDescription" rows="3" required></textarea>
            </label>
            <div class="form-grid form-grid--full">
              <label class="input">
                <span class="input__label">Fotos do an√∫ncio (m√°x. 4)</span>
                <input
                  type="file"
                  id="classifiedPhotos"
                  accept="image/*"
                  multiple
                  aria-describedby="classifiedPhotosHint"
                />
                <span class="input__hint" id="classifiedPhotosHint"
                  >Envie at√© quatro imagens em boa resolu√ß√£o.</span
                >
              </label>
              <div
                class="photo-preview"
                id="classifiedPhotoPreview"
                aria-live="polite"
              ></div>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn--primary" id="classifiedSubmitBtn">
                Salvar an√∫ncio
              </button>
              <button type="button" class="btn btn--ghost hidden" id="classifiedCancelBtn">
                Cancelar edi√ß√£o
              </button>
            </div>
          </form>

          <div class="grid grid--three" id="classifiedList"></div>
        </section>
      </main>
    </div>

    <template id="eventItemTemplate">
      <li class="calendar__item">
        <div>
          <p class="calendar__date"></p>
          <h3 class="calendar__title"></h3>
          <p class="calendar__description"></p>
        </div>
        <div class="calendar__meta">
          <span class="badge badge--type"></span>
          <span class="badge badge--level"></span>
          <div class="admin-actions hidden">
            <button type="button" class="btn btn--ghost" data-action="edit">
              Editar
            </button>
            <button type="button" class="btn btn--ghost btn--danger" data-action="delete">
              Excluir
            </button>
          </div>
        </div>
      </li>
    </template>

    <template id="classifiedCardTemplate">
      <article class="card classified">
        <div class="card__header">
          <div class="card__icon">üèÑ‚Äç‚ôÇÔ∏è</div>
          <div>
            <h3 class="classified__title"></h3>
            <p class="text--muted classified__seller"></p>
          </div>
        </div>
        <p class="classified__description"></p>
        <div class="classified__media hidden">
          <button type="button" class="btn btn--ghost classified__photos-btn">
            Ver fotos do an√∫ncio
          </button>
        </div>
        <div class="classified__footer">
          <span class="badge badge--condition"></span>
          <span class="classified__price"></span>
        </div>
        <div class="admin-actions admin-actions--inline hidden">
          <button type="button" class="btn btn--ghost" data-action="edit">
            Editar
          </button>
          <button type="button" class="btn btn--ghost btn--danger" data-action="delete">
            Excluir
          </button>
        </div>
      </article>
    </template>

    <div class="modal hidden" id="adminLoginModal" role="dialog" aria-modal="true" aria-labelledby="adminLoginTitle">
      <div class="modal__overlay"></div>
      <div class="modal__content">
        <button type="button" class="modal__close" id="adminLoginClose" aria-label="Fechar login do administrador">
          √ó
        </button>
        <h2 id="adminLoginTitle">Acesso do administrador</h2>
        <p class="text--muted">Informe seu e-mail e senha para liberar as ferramentas administrativas.</p>
        <form id="adminLoginForm">
          <label class="input">
            <span class="input__label">E-mail</span>
            <input type="email" id="adminEmail" required autocomplete="username" />
          </label>
          <label class="input">
            <span class="input__label">Senha</span>
            <input type="password" id="adminPassword" required autocomplete="current-password" />
          </label>
          <p class="form-error hidden" id="adminLoginError">N√£o foi poss√≠vel fazer login. Verifique suas credenciais.</p>
          <button type="submit" class="btn btn--primary">Entrar</button>
        </form>
      </div>
    </div>

    <div
      class="modal modal--wide hidden"
      id="photoViewerModal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="photoViewerTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <div class="modal__content modal__content--photo">
        <button type="button" class="modal__close" id="photoViewerClose" aria-label="Fechar galeria de fotos">
          √ó
        </button>
        <div class="photo-viewer">
          <div class="photo-viewer__header">
            <h2 id="photoViewerTitle"></h2>
            <p class="text--muted" id="photoViewerSubtitle"></p>
          </div>
          <div class="photo-viewer__stage">
            <img id="photoViewerImage" alt="Foto selecionada" />
          </div>
          <div class="photo-viewer__thumbs" id="photoViewerThumbs" role="list"></div>
        </div>
      </div>
    </div>

    <div
      class="modal modal--wide hidden"
      id="eventGalleryModal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="eventGalleryTitle"
    >
      <div class="modal__overlay" data-action="close"></div>
      <div class="modal__content modal__content--split">
        <button type="button" class="modal__close" id="eventGalleryClose" aria-label="Fechar acervo de eventos">
          √ó
        </button>
        <div class="event-gallery">
          <header class="event-gallery__header">
            <h2 id="eventGalleryTitle">Acervo de eventos &amp; regatas</h2>
            <p class="text--muted">
              Escolha um √°lbum para visualizar as fotos capturadas pela flotilha.
            </p>
          </header>
          <div class="event-gallery__body">
            <aside class="event-gallery__list" aria-label="Lista de √°lbuns">
              <ul id="eventAlbumList"></ul>
            </aside>
            <section class="event-gallery__preview" aria-live="polite">
              <div class="event-gallery__empty hidden" id="eventGalleryEmpty">
                <p class="text--muted">
                  Ainda n√£o h√° √°lbuns publicados. Volte em breve ou publique um na √°rea administrativa.
                </p>
              </div>
              <div class="event-gallery__album hidden" id="eventGalleryAlbum">
                <header>
                  <h3 id="eventAlbumTitle"></h3>
                  <p class="event-gallery__meta" id="eventAlbumMeta"></p>
                  <p class="text--muted" id="eventAlbumDescription"></p>
                </header>
                <div class="event-gallery__grid" id="eventAlbumGrid"></div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

    <script id="wg_fwdg_263_68_1760718590738">
      (function (window, document) {
        var loader = function () {
          var arg = [
            "s=263",
            "m=68",
            "uid=wg_fwdg_263_68_1760718590738",
            "wj=knots",
            "tj=c",
            "waj=m",
            "tij=cm",
            "odh=0",
            "doh=24",
            "fhours=240",
            "hrsm=2",
            "vt=forecasts",
            "lng=pt",
            "p=WINDSPD,GUST,MWINDSPD,SMER,TMPE,FLHGT,CDC,APCP1s,RATING",
          ];
          var script = document.createElement("script");
          var tag = document.getElementsByTagName("script")[0];
          script.src = "https://www.windguru.cz/js/widget.php?" + arg.join("&");
          tag.parentNode.insertBefore(script, tag);
        };
        var scheduleLoader = function () {
          if ("requestIdleCallback" in window) {
            requestIdleCallback(function () {
              loader();
            });
          } else {
            setTimeout(loader, 0);
          }
        };

        if (window.addEventListener) {
          window.addEventListener("load", scheduleLoader, false);
        } else if (window.attachEvent) {
          window.attachEvent("onload", scheduleLoader);
        } else {
          scheduleLoader();
        }
      })(window, document);
    </script>
    <script type="module" src="script.js"></script>
  </body>
</html>
